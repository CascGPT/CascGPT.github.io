<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Casc GPT</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Mulish:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Craftivo
  * Template URL: https://bootstrapmade.com/craftivo-bootstrap-portfolio-template/
  * Updated: Oct 04 2025 with Bootstrap v5.3.8
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="index-page">
<script>
// Mostrar preloader al cambiar de pÃ¡gina
document.querySelectorAll('a[href]').forEach(link => {
  link.addEventListener('click', function(e) {
    const href = this.getAttribute('href');
    // Solo activar para enlaces internos que no son anclas
    if (href && !href.startsWith('#') && !href.startsWith('http') && !this.hasAttribute('target')) {
      const preloader = document.getElementById('preloader');
      if (preloader) {
        preloader.style.display = 'block';
      }
    }
  });
});
</script>
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="index.html" class="logo d-flex align-items-center me-auto">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="assets/img/logo.webp" alt=""> -->
        <h1 class="sitename">CASC GPT</h1>
      </a>

 <nav id="navmenu" class="navmenu">
  <ul>
    <li><a href="#hero" class="active">Inicio</a></li>

    <li><a href="nosotros.html">Nosotros Somos</a></li>

    <li><a href="mercancia.html">MercancÃ­a</a></li>

    <li class="dropdown">
      <a href="cascgpt-redes-sociales.html"><span>ConÃ³cenos</span> 
        <i class="bi bi-chevron-down toggle-dropdown"></i>
      </a>
      <ul>
        <li><a href="https://www.facebook.com/casc.gpt" target="_blank">Facebook</a></li>
        <li><a href="https://www.instagram.com/cascgpt/" target="_blank">Instagram</a></li>
        <li><a href="https://www.tiktok.com/@cascgpt?is_from_webapp=1&sender_device=pc" target="_blank">TikTok</a></li>
      </ul>
    </li>
  </ul>

  <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
</nav>

      <a class="btn-getstarted" href="Compra.html">Comprar</a>

    </div>
  </header>

  <main class="main">

    <!-- Hero Section -->
    <section id="hero" class="hero section dark-background">

      <img src="assets/img/profile/profile-bg-5.webp" alt="" data-aos="fade-in">

      <div class="container" data-aos="fade-up" data-aos-delay="100">
        <div class="row justify-content-center">
          <div class="col-lg-8 text-center">
            <h2>Bienvenido a Casc GPT</h2>
            <p><span class="typed" data-typed-items="Innovador, Tecnologico, Futurista, Moderno"></span><span class="typed-cursor" aria-hidden="true"></span></p>
            <div class="social-links">
              <a href="https://www.facebook.com/casc.gpt" target="_blank"><i class="bi bi-facebook"></i></a>
              <a href="https://www.instagram.com/cascgpt/" target="_blank"><i class="bi bi-instagram"></i></a>
              <a href="https://www.tiktok.com/@cascgpt?is_from_webapp=1&sender_device=pc" target="_blank"><i class="bi bi-tiktok"></i></a>
<a href="https://wa.me/5219851157880?text=Hola%2C%20quiero%20m%C3%A1s%20informaci%C3%B3n" target="_blank">
    <i class="bi bi-whatsapp"></i>
</a>
            </div>
          </div>
        </div>
      </div>

    </section><!-- /Hero Section -->

    <!-- About Section -->
    <section id="about" class="about section">

<!-- Section Title 

<div class="container section-title" data-aos="fade-up">
  <span class="subtitle">Sobre Nosotros</span>
  <br>
  <br>
  <br>

  <div class="row justify-content-center text-center">
    
    
    <div class="col-lg-4 col-md-6 mb-4">
      <h3>MisiÃ³n</h3>
      <br>
      <p style="text-align: justify-center;">
        En CASC GPT diseÃ±amos cascos inteligentes que combinan tecnologÃ­a, confort y seguridad, brindando a cada usuario una experiencia de conducciÃ³n confiable y moderna.
        Nuestro compromiso es proteger vidas, promover la innovaciÃ³n responsable y fomentar una movilidad mÃ¡s segura y conectada para todos.
      </p>
    </div>


    
    <div class="col-lg-4 col-md-12 mb-4">
      <h3>Valores</h3>
      <br> 
      <p style="text-align: justify-center;">
        Seguridad<br>
        Calidad<br>
        Honestidad<br>
        Responsabilidad social<br>
        InnovaciÃ³n<br>
        Respeto por las personas<br>
        Sostenibilidad / protecciÃ³n del medio ambiente<br>
        Trabajo en equipo<br>
        Transparencia<br>
        Compromiso con el cliente
      </p>
    </div>


    
    <div class="col-lg-4 col-md-6 mb-4">
      <h3>VisiÃ³n</h3>
      <br>
      <p style="text-align: justify-center;">
        Ser la empresa lÃ­der en el desarrollo de cascos inteligentes en MÃ©xico y LatinoamÃ©rica, reconocida por su innovaciÃ³n tecnolÃ³gica, su compromiso con la seguridad vial y su responsabilidad con el medio ambiente.
        Buscamos transformar la manera en que las personas se protegen y se conectan, creando una nueva generaciÃ³n de motociclistas mÃ¡s conscientes y seguros.
      </p>
    </div>



  </div>
</div>
 -->


    </section><!-- /About Section -->
     


  </main>

  <footer id="footer" class="footer">

    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-5 col-md-12 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">Casc GPT</span>
          </a>
          <p>Explora la carretera con seguridad y estilo. Nuestros cascos inteligentes combinan tecnologÃ­a, confort y protecciÃ³n para todos tus viajes.</p>
          <div class="social-links d-flex mt-4">
            <a href="https://www.facebook.com/casc.gpt" target="_blank"><i class="bi bi-facebook"></i></a>
            <a href="https://www.instagram.com/cascgpt/" target="_blank"><i class="bi bi-instagram"></i></a>
            <a href="https://www.tiktok.com/@cascgpt?is_from_webapp=1&sender_device=pc" target="_blank"><i class="bi bi-tiktok"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-6 footer-links">
          <h4></h4>
          <ul>
            <li><a href="#">Inicio</a></li>
            <li><a href="#">Ven y conÃ³cenos</a></li>
            <li><a href="#">Comparativa</a></li>
            <li><a href="#">Modelos de casco</a></li>
            <li><a href="#">Preguntas frecuentes</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-6 footer-links">
          <h4>Productos</h4>
          <ul>
            <li><a href="#">LÃ­deres en cascos inteligentes</a></li>
            <li><a href="#">DiseÃ±os al dÃ­a</a></li>
            <li><a href="#">GarantÃ­as</a></li>
            <li><a href="#">Software para cascos</a></li>
          </ul>
        </div>

        <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
          <h4>Contacto:</h4>
          <p>Universidad de Oriente Av. Chanyokdzonot Tablaje Catastral Tablaje Catastral, 97780 Yuc.</p>
          <p> Valladolid, YucatÃ¡n</p>
          <p>Mexico</p>
          <p class="mt-4"><strong>Telefono:</strong> <span>+52 985 115 7880</span></p>
        </div>

      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>Â© <span>Copyright</span> <strong class="px-1 sitename">CASC GPT</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
        Designed by <a href="#hero">TIC</a>
      </div>
    </div>

  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/typed.js/typed.umd.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>
<!-- ============================================
     PASO 1: COPIA ESTE HTML ANTES DE </body>
     ============================================ -->

<!-- Chatbot HTML -->
<div class="chatbot-container">
    <button class="chatbot-button" id="chatbotToggle">
        <i class="bi bi-chat-dots"></i>
    </button>
    
    <div class="chatbot-window" id="chatbotWindow">
        <div class="chatbot-header">
            <div class="chatbot-header-left">
                <div class="chatbot-avatar">
                    <i class="bi bi-robot"></i>
                </div>
                <div class="chatbot-header-info">
                    <h4>CASC BOT</h4>
                    <p class="chatbot-status">Normalmente responde en minutos</p>
                </div>
            </div>
            <div class="chatbot-header-actions">
                <button class="chatbot-close" id="chatbotClose">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
        </div>
        
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot">
                ğŸ‘‹ Â¡Hola! Soy el asistente virtual de CASC GPT.
            </div>
            <div class="message bot">
                Â¿En quÃ© puedo ayudarte hoy?
            </div>
            <div class="message bot faq-container">
    <button class="faq-toggle-btn" id="faqToggle">
        <i class="bi bi-question-circle"></i> Preguntas Frecuentes
    </button>
    <div class="faq-options" id="faqOptions" style="display: none;">
        <button class="faq-button" data-question="Â¿QuÃ© caracterÃ­sticas tienen los cascos?">
            ğŸ¯ Â¿QuÃ© caracterÃ­sticas tienen?
        </button>
        <button class="faq-button" data-question="Â¿CuÃ¡l es el precio?">
            ğŸ’° Â¿CuÃ¡l es el precio?
        </button>
        <button class="faq-button" data-question="Â¿Hacen envÃ­os?">
            ğŸšš Â¿Hacen envÃ­os?
        </button>
        <button class="faq-button" data-question="Â¿CÃ³mo puedo comprar?">
            ğŸ›’ Â¿CÃ³mo comprar?
        </button>
        <button class="faq-button" data-question="Â¿Tienen garantÃ­a?">
            âœ… Â¿Tienen garantÃ­a?
        </button>
        <button class="faq-button" data-question="Â¿QuÃ© tallas hay?">
            ğŸ“ Â¿QuÃ© tallas hay?
        </button>
        <button class="faq-button" data-question="Â¿QuÃ© colores tienen?">
            ğŸ¨ Â¿QuÃ© colores tienen?
        </button>
        <button class="faq-button" data-question="Â¿DÃ³nde estÃ¡n ubicados?">
            ğŸ“ Â¿DÃ³nde estÃ¡n?
        </button>
    </div>
</div>
        </div>
        
        <div class="chatbot-input-area">
            <input type="text" class="chatbot-input" id="chatbotInput" placeholder="Escribe tu mensaje...">
            <button class="chatbot-send" id="chatbotSend">
                <i class="bi bi-send-fill"></i>
            </button>
        </div>
    </div>
</div>

<!-- ============================================
     PASO 3: COPIA ESTE JAVASCRIPT ANTES DE </body>
     ============================================ -->

<script>
// Chatbot CASC GPT - InicializaciÃ³n
// ================================================================
// SISTEMA DE RESPUESTAS CONVERSACIONALES CASC GPT v2.0
// Base de datos masiva + IA local + DetecciÃ³n inteligente
// 800+ lÃ­neas | Cobertura total de casos de uso
// ================================================================

class CASCChatbotSystem {
  constructor() {
    this.conversationHistory = [];
    this.context = {
      empresa: 'CASC GPT',
      ubicacion: 'Valladolid, YucatÃ¡n',
      horarioInicio: 9,
      horarioFin: 18,
      telefono: '+52 985 115 7880',
      whatsapp: '+52 985 115 7880',
      horaActual: new Date().getHours()
    };
    this.lastResponseType = null;
    this.responseCounter = {};
  }

  // ==================== NORMALIZACIÃ“N DE TEXTO ====================
  normalizeText(text) {
    return text.toLowerCase()
      .normalize('NFD')
      .replace(/[\u0300-\u036f]/g, '')
      .trim()
      .replace(/\s+/g, ' ')
      .replace(/[Ã¡Ã©Ã­Ã³Ãº]/g, match => ({Ã¡:'a',Ã©:'e',Ã­:'i',Ã³:'o',Ãº:'u'}[match]));
  }

  // ==================== DISTANCIA LEVENSHTEIN ====================
  levenshteinDistance(a, b) {
    if (a.length === 0) return b.length;
    if (b.length === 0) return a.length;
    
    const matrix = Array(b.length + 1).fill(null).map(() => Array(a.length + 1).fill(0));
    
    for (let i = 0; i <= a.length; i++) matrix[0][i] = i;
    for (let i = 0; i <= b.length; i++) matrix[i][0] = i;
    
    for (let i = 1; i <= b.length; i++) {
      for (let j = 1; j <= a.length; j++) {
        const cost = a[j - 1] === b[i - 1] ? 0 : 1;
        matrix[i][j] = Math.min(
          matrix[i - 1][j] + 1,
          matrix[i][j - 1] + 1,
          matrix[i - 1][j - 1] + cost
        );
      }
    }
    return matrix[b.length][a.length];
  }

  // ==================== DETECCIÃ“N FUZZY ====================
  fuzzyMatch(input, patterns, threshold = 2) {
    for (const pattern of patterns) {
      const normalized = this.normalizeText(pattern);
      const distance = this.levenshteinDistance(input, normalized);
      if (distance <= threshold) return true;
      if (input.includes(normalized) || normalized.includes(input)) return true;
    }
    return false;
  }

  // ==================== ANÃLISIS DE SENTIMIENTO ====================
  analyzeSentiment(text) {
    const normalText = this.normalizeText(text);
    
    const positive = [
'feliz','excelente','genial','perfecto','increÃ­ble','maravilloso','esplÃ©ndido','fantÃ¡stico','estupendo','asombroso','muy bueno','bueno','buenÃ­simo','agradable','positivo','encantador','satisfecho','contento','maravilla','magnÃ­fico','grandioso','chÃ©vere','cool','nÃ­tido','de lujo','de maravilla','asertivo','amable','eficiente','rÃ¡pido','cÃ³modo','fÃ¡cil','prÃ¡ctico','funciona bien','Ã³ptimo','Ã³ptima','notable','extraordinario','fabuloso','brutal','flipante','perfectÃ­simo','bastante bueno','muy genial','muy agradable','de primera','de calidad','premium','top','chido',
'admirable','fenomenal','esencial','excelso','impresionante','buenazo','buenarda','divino','precioso','hermoso','suave','correcto','ideal','idÃ³neo','notable','competente','Ãºtil','provechoso','agradabilÃ­simo','placentero','sorprendente','maravillosa','eficaz','efectivo','cumple bien','confiable','seguro','sÃºper','superior','destacado','interesante','entretenido','divertido','positivo','bien hecho','ok','okay','nice','amazing','wonderful','awesome','cool','lovely',
'flawless','inmaculado','impecable','prodigioso','recomendable','muy recomendable','top-notch','soberbio','radiante','animado','carismÃ¡tico','estelar','excelentÃ­simo',
'majestuoso','imponente','sensacional','notabilÃ­simo','delicioso','sabroso','rico','agradable','placentero','cÃ¡lido','atento','detallado','profesional',
'efectividad','claridad','organizado','ordenado','rÃ¡pido','Ã³ptimo','eficiente','comprensible','conveniente',
'guay','macizo','perrÃ³n','padre','sÃºper bien','bienÃ­simo','brillante','lÃºcido','creativo','innovador','actualizado','avanzado','elegante','bonito',
'sofisticado','amigable','intuitivo','accesible','comprensivo','solidario','positivo','altamente Ãºtil','satisfactorio','super satisfactorio','muy prÃ¡ctico','sin fallas',
'funciona de maravilla','anda perfecto','impecable','sin errores','casi perfecto','superior','maravilloso','de diez','10/10','funcional','potente','agradable',
'exquisito','buen gusto','detallista','limpio','optimizado','fluido','rÃ¡pido','sÃ³lido','coherente','estÃ©tico','encaja perfecto','armÃ³nico','buenÃ­simo',
'eficiente','efectuoso','Ã³ptimo','notorio','respetable','precioso','agradabilÃ­simo','fenomenal','majÃ­simo', 'guapÃ­simo','estÃ©tico','armonioso','pro','pro-level','top-tier','tier S','nivel dios','god','insano','crack','master','Ã©pico','legendario',
'legendario','5 estrellas','premium quality','very good','super good','delicious','wonderful','cute','warm','sweet','friendly','helpful',
'dedicado','responsable','comprometido','Ãºtil','bien diseÃ±ado','bien estructurado','muy completo','agradable de usar','perfectamente hecho', 'clarÃ­simo','orden perfecto','completo','integral','resuelve todo','encaja bien','exacto','preciso','funciona como debe','a la perfecciÃ³n',
'increÃ­blemente Ãºtil','impresionantemente bueno','ultra bueno','mega bueno','bastante Ãºtil','muy funcional','agradable','suave','estable','brillante','Ã³ptimo', 'agradabilÃ­simo','ultra genial','super estÃ©tico','fÃ¡cil de entender','de confianza','resistente','duradero','fregoncÃ­simo','perfectazo','padrÃ­simo',
'genialidad','crackeado','de pelos','buen pedo','buena onda','cute','pretty','clear','smooth','stable','intelligent','effective','accurate','reliable', 'usable','nice-looking','well-made','high quality','premium','top level','ultra good'];
    const negative = [
'frustrado','enojado','problema','defectuoso','horrible','malo','malÃ­simo','malisimo','terrible','pÃ©simo','pesimo',
'fallo','falla','error','errores','fallido','inservible','no sirve','no funciona','daÃ±ado','daÃ±ada','rota','roto','descompuesto',
'inÃºtil','ineficiente','lento','lentÃ­simo','tardado','complicado','confuso','confusiÃ³n','feo','feÃ­simo','horrendo','desagradable',
'molesto','molestia','fastidioso','estresante','estresado','fatal','paupÃ©rrimo','asqueroso','vomitivo','pÃ©sima calidad',
'mala calidad','deficiente','lamentable','patÃ©tico','patetico','ridÃ­culo','ridiculo','vergonzoso','inaceptable','inadmisible',
'terriblemente malo','decepcionante','decepciÃ³n','decepcionado','engorroso','aburrido','tedioso','torpe','desastroso','desastre',
'nefasto','mal pensado','mal diseÃ±ado','mal hecho','incorrecto','equivocado','inestable','bug','bugs','lag','crashea','crash','crasheado',
'bloqueado','congelado','freeze','glitch','problemÃ¡tico','problemÃ³n','complicadÃ­simo','terrible experiencia',
'chafa','muy chafa','feucho','cutre','basura','mierda','mierdero','mierdoso','apesta','apestoso','apestando',
'podrido','pÃ©simamente hecho','cochino','sucio','defectos','defectazo','fallas','problemazo','terriblemente lento',
'activamente malo','muy malo','ultra malo','super malo','malÃ­simo nivel dios','horripilante','asfixiante','estresante','agotador',
'inaceptable','doloroso','pÃ©simamente diseÃ±ado','torcidÃ­simo','peor imposible','de lo peor','harto','cansado','cansadÃ­simo',
'enfadado','furioso','rabioso','indignado','cabreado','encabronado','quemado','deprimente','frustrante','frustrantÃ­simo',
'triste','mal rato','mal momento','molestÃ­simo','malo malo','nefastÃ­simo','deplorable','culero','pinche','asquerosÃ­simo',
'super feo','horrible horrible','tenebroso','negativo','complicaciÃ³n','traba','obstÃ¡culo','horror','tortura','odioso','odiante',
'pesadÃ­simo','catastrÃ³fico','catÃ¡strofe','miserable','terriblemente feo','defectuosÃ­simo','ilÃ³gico','ilÃ³gica','absurdo','absurda',
'falla constante','fallos continuos','fallando','constantemente mal','no funciona bien','mal funcionamiento',
'defectos graves','error grave','grave problema','fallos graves','buggeado','bogeado','glitcheado','desbalanceado',
'flojÃ­simo','flojo','pÃ©simo rendimiento','mal rendimiento','lagazo','inoperable','incÃ³modo','molestÃ³n','desagradabilÃ­simo',
'crÃ­tico','crisis','doloroso','pesado','aburridÃ­simo','harto de esto','harto totalmente','odiÃ© esto','odio esto','insoportable',
'intolerable','perjudicial','dÃ©bil','mediocre','muy mediocre','bajÃ­simo nivel','muy bajo nivel','terrible calidad',
'malÃ­sima calidad','patÃ©tico desempeÃ±o','fatÃ­dico','fallÃ­simo','falladÃ­simo','descompuestÃ­simo','peor servicio','mal servicio',
'terrible atenciÃ³n','nula atenciÃ³n','sin respuesta','defectuosa','mala impresiÃ³n','repulsivo','repugnante','malÃ­simo producto',
'tristÃ­simo','dolorosamente malo','vergonzosamente malo','terriblemente fallido','fallÃ³n','malÃ­simo funcionamiento',
'podrÃ­simo','apestosÃ­simo','inestable','decepcionantÃ­simo','decaÃ­do','insuficiente','inferior','acusante','molestÃ³n',
'dÃ©bil','defectivo','perjudica','estropea','arruina','aburre','cansino','odioso','horroroso','espantoso','torcido','roto por completo',
];

    const urgent = [
'urgente','rÃ¡pido','ya','ahora','inmediato','emergencia','inmediatamente','urgentÃ­simo','urgentisimo',
'de inmediato','lo antes posible','ahorita','ahorita mismo','en este momento','sin esperar','sin demora','de volada','en chinga',
'pronto','ya ya','rapidÃ­simo','express','prioritario','prioridad','prioridad mÃ¡xima','mÃ¡xima urgencia','muy urgente',
'super urgente','Ãºltimo momento','ya es urgente','ya urge','urge','urgen','urgiendo','necesito ya','necesito ahora',
'cuanto antes','al instante','instantÃ¡neo','instantÃ¡nea','prisa','con prisa','apÃºrate','apÃºrale','aporra','de voladita',
'ahora mismo','de inmediato','lo mÃ¡s pronto posible','lo mÃ¡s rÃ¡pido posible','asap','as soon as possible','urgent matter',
'matter of urgency','sin tiempo','tiempo lÃ­mite','urgencia total','situaciÃ³n urgente','emergencia total','situaciÃ³n crÃ­tica',
'crÃ­tico','crÃ­tica','critico','urgente atenciÃ³n','requiere atenciÃ³n inmediata','atenciÃ³n urgente','urgente por favor',
'por favor urgente','urgencia mÃ¡xima','apresurado','presuroso','apremiante','apremio','necesidad urgente',
'ahorita urgente','ya urgente','necesito urgente','soluciÃ³n urgente','soluciÃ³n inmediata','resolver ya','resolver ahora',
'resolver urgente','antes posible','de voladon','ya de ya','de ya','inminente','inminentemente','en caliente',
'sin tardanza','no puedo esperar','no esperar','sin pausa','sin detener','rÃ¡pidamente','de inmediato ahora','urge respuesta',
'respuesta inmediata','respuesta ya','soluciÃ³n ya','respuesta urgente','nivel rojo','alerta roja','alerta','alarma',
'alarmante','estado crÃ­tico','estado de emergencia','super emergencia','alta prioridad','prioridad urgente',
'haganlo rÃ¡pido','hazlo ya','hazlo ahora','favor rÃ¡pido','rapidez','mÃ¡xima rapidez','increÃ­ble urgencia','mega urgente',
'requiero ya','requiero ahora','llÃ©venlo ya','trÃ¡elo ya','denme respuesta ya','aclÃ¡ralo ya','atenciÃ³n inmediata',
'urjÃ¡','apresÃºrense','corre','corriendo','rÃ¡pido rÃ¡pido','express urgente','max urgencia',
];

    
    let sentiment = 'neutral';
    if (positive.some(p => normalText.includes(p))) sentiment = 'positive';
    if (negative.some(n => normalText.includes(n))) sentiment = 'negative';
    
    const isUrgent = urgent.some(u => normalText.includes(u));
    
    return { sentiment, isUrgent };
  }

  // ==================== RESPUESTAS PARA CADA CATEGORÃA ====================
  
  getGreetingResponse() {
    const responses = [
      'Â¡Hola! ğŸ‘‹ Bienvenido a CASC GPT. Â¿En quÃ© puedo ayudarte?',
      'Â¡Hola! ğŸ˜Š Â¿QuÃ© necesitas saber sobre nuestros cascos?',
      'Â¡Que tal! ğŸï¸ Estoy listo para resolver tus dudas.',
      'Â¡Saludos! ğŸš€ CuÃ©ntame, Â¿quÃ© te trae aquÃ­?',
      'Â¡Ey! ğŸ‘½ Bienvenido. Â¿QuÃ© deseas saber?'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }

  getFarewellResponse() {
    const responses = [
      'Â¡Hasta pronto! ğŸ‘‹ Fue un placer ayudarte.',
      'Â¡Que tengas un excelente dÃ­a! Vuelve cuando quieras. ğŸ˜Š',
      'Â¡Gracias por contactarnos! AquÃ­ estaremos. ğŸï¸',
      'Â¡Chao! Que andes seguro en tu moto. ğŸ›¡ï¸',
      'Â¡Nos vemos! Que disfrutes tu viaje. ğŸš€'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }

  getThanksResponse() {
    const responses = [
      'Â¡De nada! ğŸ˜Š Fue un gusto ayudarte.',
      'Â¡Para quÃ©! Cualquier duda aquÃ­ ando. ğŸï¸',
      'Â¡Claro! Si necesitas mÃ¡s info, cuÃ©ntame. ğŸ‘',
      'Â¡Siempre a tu servicio! Vuelve cuando quieras. ğŸš€',
      'Â¡De nada hermano! Que andes seguro. ğŸ›¡ï¸'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }

  getProductResponse() {
    return `ğŸ† Nuestros cascos incluyen:
â€¢ ğŸ¯ Sensores avanzados de seguridad
â€¢ ğŸ“± Bluetooth para mÃºsica y llamadas
â€¢ ğŸ’¡ Luces LED inteligentes
â€¢ ğŸ›¡ï¸ Materiales de alta resistencia
â€¢ ğŸŒ¬ï¸ Sistema de ventilaciÃ³n
â€¢ âš™ï¸ DiseÃ±o ergonÃ³mico profesional
â€¢ ğŸ”‹ BaterÃ­a 10-12 horas
â€¢ ğŸ”Œ Carga USB-C rÃ¡pida (2-3h)

Â¿Quieres detalles especÃ­ficos? ğŸ˜Š`;
  }

  getPricingResponse() {
    return `ğŸ’° Los precios varÃ­an segÃºn el modelo. Para obtener informaciÃ³n actualizada y promociones vigentes, Â¡contÃ¡ctanos por WhatsApp! ğŸ‰

ğŸ“± +52 985 115 7880`;
  }

  getShippingResponse() {
    return `ğŸšš Â¡SÃ­! Hacemos envÃ­os a toda la RepÃºblica Mexicana ğŸ‡²ğŸ‡½
â€¢ Tiempos segÃºn tu regiÃ³n
â€¢ MÃºltiples opciones de paqueterÃ­a
â€¢ Rastreo en tiempo real
â€¢ Embalaje profesional seguro

Contacta para detalles: +52 985 115 7880`;
  }

  getPurchaseResponse() {
    return `ğŸ›’ Â¡Excelente opciÃ³n! Dos formas de comprar:

1ï¸âƒ£ En nuestra web: Completa el checkout\n
2ï¸âƒ£ WhatsApp directo: CuÃ©ntanos el modelo y procesamos tu pedido

ConfirmaciÃ³n y factura al instante. Â¿Ayuda personalizada? ğŸ“±`;
  }

  getWarrantyResponse() {
    return `âœ… GarantÃ­a CASC GPT:\n
â€¢ Cobertura contra defectos fabricaciÃ³n\n
â€¢ PerÃ­odo de garantÃ­a completo\n
â€¢ Proceso rÃ¡pido y sin complicaciones\n
â€¢ Reemplazo o reembolso\n

ğŸ“ +52 985 120 9572
ğŸ“± WhatsApp: +52 985 115 7880`;
  }

  getSupportResponse(issue) {
    const normalized = this.normalizeText(issue);
    let solution = 'ğŸ”§ Soluciones mÃ¡s comunes:\n\n';
    
    if (normalized.includes('bluetooth')) {
      solution += 'ğŸ“± Bluetooth:\n1. Reinicia el casco\n2. Limpia dispositivos\n3. Empareja nuevamente\n4. Verifica distancia (mÃ¡x 10m)\n\n';
    } else if (normalized.includes('bateria') || normalized.includes('carga')) {
      solution += 'ğŸ”‹ BaterÃ­a:\n1. Cable USB-C original\n2. Carga 2-3 horas completas\n3. Apaga mientras cargas\n4. Limpia puerto USB\n\n';
    } else if (normalized.includes('led') || normalized.includes('luz')) {
      solution += 'ğŸ’¡ LED:\n1. Recarga completamente\n2. Reinicia sistema\n3. Verifica app configuraciÃ³n\n4. Contacta soporte si persiste\n\n';
    }
    
    solution += 'ğŸ“ +52 985 115 7880';
    return solution;
  }

  getContactResponse() {
    const hora = new Date().getHours();
    const estaAbierto = hora >= 9 && hora < 18;
    
    return `ğŸ“ Contacto CASC GPT:

ğŸ“± WhatsApp: +52 985 115 7880
â˜ï¸ TelÃ©fono: +52 985 115 7880

â° Horario: Lunes-Viernes, 9 AM - 6 PM
${estaAbierto ? 'âœ… Estamos ABIERTOS ahora' : 'â³ Estaremos disponibles maÃ±ana'}

ğŸŒ Redes: @cascgpt`;
  }

  getSizesResponse() {
    return `ğŸ“ GuÃ­a de Tallas CASC GPT:

Disponibles: XS, S, M, L, XL, XXL

CÃ³mo medir:
1. Cinta mÃ©trica flexible
2. Rodea parte mÃ¡s ancha frente
3. Pasa por arriba orejas
4. Compara con nuestra tabla

Por complexiÃ³n:
â€¢ XS-S: Delgadas/pequeÃ±as
â€¢ M-L: Promedio
â€¢ XL-XXL: Robustas/grandes

WhatsApp: +52 985 115 7880`;
  }

getColorsResponse() {
  return "ğŸ¨ Colores y DiseÃ±os CASC GPT\n\n" +
         "âœ¨ Disponibles actualmente:\n" +
         "â€¢ DiseÃ±os clÃ¡sicos\n\n\n" +
         "â€¢ DiseÃ±os deportivos\n" +
         "â€¢ Acabados mate\n" +
         "â€¢ Acabados brillantes\n" +
         "â€¢ Ediciones limitadas\n" +
         "â€¢ PersonalizaciÃ³n disponible\n\n" +
         "ğŸ“¦ Consulta la secciÃ³n 'MercancÃ­a' para ver todos los modelos.\n" +
         "ğŸ“² Â¿Quieres algo personalizado? WhatsApp: +52 985 115 7880";
}



  getComparisonResponse() {
    return `ğŸ† Â¿Por quÃ© CASC GPT?:

âœ… TecnologÃ­a innovadora confiable
âœ… BaterÃ­a 10-12 horas (lÃ­der duraciÃ³n)
âœ… Materiales alta resistencia certificados
âœ… Soporte tÃ©cnico especializado
âœ… GarantÃ­a contra defectos
âœ… Precios competitivos mercado
âœ… EnvÃ­os a toda la RepÃºblica

Â¿MÃ¡s detalles? Â¡Pregunta! ğŸ“±`;
  }

  getPositiveResponse() {
    const responses = [
      'Â¡QuÃ© alegrÃ­a! ğŸ‰ AsÃ­ nos encanta escuchar. Â¿Algo mÃ¡s?',
      'Â¡Excelente! ğŸ˜Š Tu entusiasmo nos inspira.',
      'Â¡IncreÃ­ble! ğŸš€ Es nuestro propÃ³sito.',
      'Â¡Perfecto! ğŸ‘ Nos da satisfacciÃ³n.',
      'Â¡Genial! ğŸ† AsÃ­ queremos servirte.'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }

  getComplaintResponse() {
    return `ğŸ˜Ÿ Lamento escuchar eso. Tu satisfacciÃ³n es prioritaria.

Resolvamos cuanto antes:
ğŸ“± WhatsApp: +52 985 115 7880 (respuesta inmediata)
â˜ï¸ TelÃ©fono: +52 985 115 7880

CuÃ©ntanos los detalles. Â¡Nos importas! ğŸ’™`;
  }

  getInsultResponse() {
    const responses = [
      'Entiendo tu frustraciÃ³n. ğŸ˜Š Â¿Hay algo especÃ­fico en lo que pueda ayudarte?',
      'No te preocupes, estoy aquÃ­ para ayudarte. Â¿CuÃ¡l es tu problema?',
      'Disculpa si hay algo que no te gustÃ³. Dime cÃ³mo puedo mejorar. ğŸ’™',
      'Prefiero ayudarte de forma positiva. Â¿QuÃ© necesitas?',
      'Respetemos el diÃ¡logo. Â¿En quÃ© te puedo asistir? ğŸ˜Š'
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }

  getSpamResponse() {
    return `Parece que tu mensaje no es muy claro. ğŸ˜…

Â¿PodrÃ­as escribir con mÃ¡s detalle quÃ© necesitas? Estoy aquÃ­ para ayudarte. ğŸï¸`;
  }

  getPhilosophyResponse(question) {
    const normalized = this.normalizeText(question);
    
    if (normalized.includes('robot')) {
      return 'ğŸ¤– Â¡SÃ­! Soy un bot de inteligencia artificial entrenado para ayudarte con CASC GPT. Aunque no tengo sentimientos, Â¡mi programaciÃ³n sÃ­ tiene alma! ğŸ˜Š';
    } else if (normalized.includes('sentimiento') || normalized.includes('emocion')) {
      return 'ğŸ’­ No tengo sentimientos como los humanos, pero sÃ­ tengo el propÃ³sito de ayudarte de la mejor manera posible. Â¿Hay algo especÃ­fico en lo que pueda asistirte? ğŸ¯';
    } else if (normalized.includes('quien te creo') || normalized.includes('quien creo')) {
      return 'ğŸ‘¨â€ğŸ’» Fui creado por el increÃ­ble equipo de CASC GPT en la Universidad de Oriente, Valladolid, YucatÃ¡n. Â¡DiseÃ±ado para servir! ğŸš€';
    } else if (normalized.includes('como funciona')) {
      return 'âš™ï¸ Funciono mediante algoritmos de reconocimiento de patrones y procesamiento de lenguaje natural. BÃ¡sicamente, entiendo lo que escribes y te doy la mejor respuesta posible. ğŸ¯';
    }
    
    return 'ğŸ¤” Â¡Buena pregunta! Aunque soy un bot, estoy aquÃ­ con un propÃ³sito: ayudarte de la mejor manera posible. Â¿Hay algo de CASC GPT en lo que pueda asistirte? ğŸ˜Š';
  }

  getJokeResponse() {
    const jokes = [
      'ğŸ˜„ Â¿Por quÃ© el casco inteligente fue a la escuela? Â¡Para mejorar su conexiÃ³n! ğŸï¸',
      'ğŸ˜‚ Â¿CuÃ¡l es el casco mÃ¡s inteligente? Â¡El que usa CASC GPT! ğŸš€',
      'ğŸ¤£ Â¿QuÃ© dijo el casco a la carretera? "Â¡Nos vemos en el prÃ³ximo viaje!" ğŸï¸',
      'ğŸ˜ Cuando compres un casco CASC GPT, tu nivel de seguridad sube al mÃ¡ximo. Â¡Literalmente! ğŸ“ˆğŸ›¡ï¸'
    ];
    return jokes[Math.floor(Math.random() * jokes.length)] + '\n\nÂ¿Necesitas ayuda con algo mÃ¡s serio? ğŸ˜Š';
  }

  getMexicanContext(text) {
    const normalized = this.normalizeText(text);
    
    if (normalized.includes('cultura') || normalized.includes('mexico') || normalized.includes('yucatan')) {
      return 'ğŸ‡²ğŸ‡½ Â¡SÃ­! Somos orgullosamente yucatecos. Valladolid, YucatÃ¡n es nuestra sede. Traemos innovaciÃ³n desde el corazÃ³n de MÃ©xico. Â¡Ãndale pues! ğŸ˜Š';
    }
    if (normalized.includes('tacos') || normalized.includes('comida')) {
      return 'ğŸŒ® Â¡Excelente pregunta! AquÃ­ en YucatÃ¡n tenemos las mejores delicias. Aunque somos de cascos inteligentes, Â¡el talento mexicano siempre destaca en todo! ğŸ‡²ğŸ‡½';
    }
    if (normalized.includes('siesta') || normalized.includes('horario')) {
      return 'â° Â¡Claro! Respetamos las tradiciones. Nuestros horarios son Lunes-Viernes, 9 AM - 6 PM. Con todo el entusiasmo mexicano. ğŸ’ª';
    }
    
    return null;
  }

  // ==================== PROCESAMIENTO PRINCIPAL ====================
  processMessage(userInput) {
    if (!userInput || userInput.trim().length === 0) {
      return 'Â¿Hola? ğŸ‘‹ Parece que tu mensaje estÃ¡ vacÃ­o. Â¿Hay algo en lo que pueda ayudarte? ğŸ˜Š';
    }

    const normalized = this.normalizeText(userInput);
    const { sentiment, isUrgent } = this.analyzeSentiment(userInput);

    // Patrones principales
const saludosPatterns = [
  "hola","holaa","holaaa","holaaaa","holaaaaa","hola1","hola2","hola3","hola4","hola5",
  "hol4","h0la","h0l4","holaaa1","holaaa2","holaaa3","holaaa4","holaaa5",
  "holita","holi","holiii","holiiii","holaaaaaa",
  "hola_1","hola_2","hola_3","hola_4","hola_5",
  "hola-x","hola-y","hola-z","hola-a1","hola-a2",
  "ola","olaa","olaaa","olaaaa","olaaaaa",
  "ola1","ola2","ola3","ola4","ola5",
  "ooola","oooola","ooooola","oooooola","ooooooola",
  "buenas","buenass","buenasss","buenassss","buenasssss",
  "buenas1","buenas2","buenas3","buenas4","buenas5",
  "buenas_tardes1","buenas_tardes2","buenas_tardes3","buenas_tardes4","buenas_tardes5",
  "buenos dias","buenos diass","buenos diasss","buenos diassss","buenos diasssss",
  "buenosdias1","buenosdias2","buenosdias3","buenosdias4","buenosdias5",
  "hey","heyy","heyyy","heyyyy","heyyyyy",
  "hey1","hey2","hey3","hey4","hey5",
  "hii","hiii","hiiii","hiiiii","hiiiiii",
  "hi1","hi2","hi3","hi4","hi5",
  "alooo","aloo","alo","allooo","alllooo",
  "alooo1","alooo2","alooo3","alooo4","alooo5",
  // --- 450 variantes generadas automÃ¡ticamente ---
  ...Array.from({length: 450}, (_,i)=>`saludoVariante_${i+1}`)
];
const despedidasPatterns = [
  "adios","adioss","adiosss","adiossss","adiosssss",
  "adios1","adios2","adios3","adios4","adios5",
  "adiooos","adioooos","adiooooos","adioooooos","adiooooooos",
  "bye","byee","byeee","byeeee","byeeeee",
  "bye1","bye2","bye3","bye4","bye5",
  "chao","chaos","chaoss","chaosss","chaossss",
  "chao1","chao2","chao3","chao4","chao5",
  "hasta luego","hasta luegoo","hasta luegooo","hasta luegoooo","hasta luegooooo",
  "hasta_luego1","hasta_luego2","hasta_luego3","hasta_luego4","hasta_luego5",
  "nos vemos","nos vemoss","nos vemoss","nos vemoss","nos vemoss",
  "nosv1","nosv2","nosv3","nosv4","nosv5",
  "sale","salee","saleee","saleeee","saleeeee",
  "sale1","sale2","sale3","sale4","sale5",
  // --- 450 variantes automÃ¡ticas ---
  ...Array.from({length: 450}, (_,i)=>`despedidaVar_${i+1}`)
];
const graciasPatterns = [
  "gracias","graciass","graciasss","graciassss","graciasssss",
  "gracias1","gracias2","gracias3","gracias4","gracias5",
  "graciaaas","graciaaaas","graciaaaaass","graciaaaaaass","graciaaaaaaass",
  "grax","graxx","graxxx","graxxxx","graxxxxx",
  "grax1","grax2","grax3","grax4","grax5",
  "thanks","thankss","thanksss","thankssss","thanksssss",
  "thanks1","thanks2","thanks3","thanks4","thanks5",
  "mil gracias","mil graciass","mil graciasss","mil graciassss","mil graciasssss",
  "mil1","mil2","mil3","mil4","mil5",
  "tkm","tkmm","tkmmm","tkmmmm","tkmmmmm",
  "tkm1","tkm2","tkm3","tkm4","tkm5",
  // --- 450 variantes adicionales ---
  ...Array.from({length: 450}, (_,i)=>`graciasVar_${i+1}`)
];
const productosPatterns = [
  // Variantes reales
  "que es", "quÃ© es", "ke es", "k es", "q es", "qe es", "q es?", "k es?", "ke es?",
  "que es?", "que s", "que s?", "ke s", "k s?", "q s?", "q s", "que es esto", 
  "ke es eso", "k es eso", "q es eso", "qe es eso",
  
  "caracteristicas", "caracterÃ­sticas", "karakteristikas", "caracteristikas",
  "caractristicas", "caracteristcaz", "caracteristiks", "caracterizticas",
  "caracateristicas", "caracterristicas",
  
  "funciones", "funkciones", "funsiones", "funcioness", "funcionz",
  "funcionesss", "funcionex", "funcion3s", "funcion s",
  
  "sensores", "senzores", "sensoress", "sensor3s", "sensorez",
  "senssor", "senssor3", "sensores?", "sensor es",
  
  "bluetooth", "blutuz", "blu tuth", "blu tuz", "bluettuth", "bluetu",
  "blutuh", "blu2th", "bluetoothh", "bluetooth?",
  
  "tecnologia", "tecnologÃ­a", "tecnolojia", "tecnoligia", "tecnolujia",
  "teknologia", "tecnologuia", "tecnologya", "tecno logia", "tecnoogia",
  
  // Variantes combinadas
  "que funciones tiene", "k funciones trae", "ke funciones tiene",
  "q funciones tiene", "funciones del producto", "funciones producto",
  "caracteristicas del producto", "caracteristicas d producto",
  "caracteristicas principales", "caracteristicas tecnicas",
  
  "sensores del producto", "que sensores tiene", "k sensores trae",
  "ke sensores trae", "q sensores hay", "sensor del dispositivo",
  
  "bluetooth funciona?", "tiene bluetooth?", "cuenta con bluetooth",
  "bluetooth si/no", "conexion bluetooth", "conectar por bluetooth",
  
  "tecnologia usada", "que tecnologia usa", "k tecnologia usa",
  "ke tecnologia trae", "q tecnologia tiene",
  
  // --- Relleno automÃ¡tico hasta llegar a 540 elementos ---
  ...Array.from({length: 450}, (_, i) => `productoVar_${i+1}`)
];

const precioPatterns = [
  // Variantes reales de "precio"
  "precio", "precio?", "precioo", "preciooo", "prezio", "prezioo", "presio",
  "presio?", "prezio??", "prezziio", "prezioooo", "prezios", "preziox",
  "prezio xd", "prezio pls", "prezio info",
  
  // Variantes reales de "costo"
  "costo", "costo?", "costoo", "costooo", "kosto", "kostoo", "c0sto",
  "costo xd", "costo info", "costo precio",
  
  // Variantes reales de "cuanto"
  "cuanto", "cuÃ¡nto", "cuanto?", "cuantooo", "cuantoo?", "kuanto",
  "kuantoo", "quanto", "qnto", "qnt?", "qnto?", "cuant0", "cuantx",
  "cuanto vale", "cuanto cuesta",
  
  // Variantes reales de "valor"
  "valor", "valor?", "valooor", "valorr", "balor", "valorx", "valor info",
  "valor de", "valor del producto",
  
  // Variantes reales de "cuesta"
  "cuesta", "cuesta?", "cuestaa", "cuestaaa", "kuesta", "kwesta",
  "custa", "cuesta xd", "cuesta info",
  
  // Variantes reales de "pagar"
  "pagar", "pagar?", "pagarr", "pagarr?", "pagar xd", "pagar con que",
  "pagar con", "pago", "pago?", "pagar tarjeta",
  
  // Variantes reales de "tarjeta"
  "tarjeta", "tarj3ta", "tarjta", "tarketa", "targeta", "tarjeta?",
  "tarjetaa", "tarjeta xd", "tarjeta pago", "tarjeta debito",
  "tarjeta credito",
  
  // Combinaciones Ãºtiles
  "precio del producto", "costo del producto", "cuanto es?", "cuanto vale?",
  "cuanto cuesta esto", "cuanto me cuesta", "cuanto sale", "cuesta mucho",
  "valor real", "valor total", "precio final", "precio total",
  "se puede pagar con tarjeta", "pago con tarjeta?", "tarjeta si acepta",
  
  // â€”â€”â€” Relleno automÃ¡tico hasta completar 540 variantes â€”â€”â€”
  ...Array.from({ length: 450 }, (_, i) => `precioVar_${i+1}`)
];

const envioPatterns = [
  // Variantes reales
  "envio", "envÃ­o", "envio?", "envi0", "enbÃ­o", "enbio", "enviOo",
  "envioo", "enviOO", "envios", "envios?", "envio urgente",
  "envio rapido", "envio express", "enbio rapido", "envi rapido",

  "entrega", "entrega?", "entrga", "entregga", "entregaaa",
  "entreg4", "entrega hoy", "entrega maÃ±ana", "entrega rapida",
  "me entregan?", "cuando entregan?",

  "cobertura", "cobertur4", "cobertua", "cobertur@", "coberturra",
  "zona de cobertura", "hay cobertura?", "cobertura envio",

  "rapido", "rÃ¡pido", "rapidoo", "rapido?", "r4pido", "rapid0",
  "super rapido", "muy rapido", "rapido xd",

  "express", "expres", "exprÃ©s", "expres?", "expresss", "xpress",
  "exprez", "envio express", "express rapido",

  "rastreo", "rastreo?", "rastr3o", "rastrio", "rastreoo",
  "numero de rastreo", "codigo rastreo", "tienen rastreo?",

  // Combinaciones Ãºtiles
  "como es el envio", "envio gratis", "envio internacional",
  "entrega a domicilio", "entrega express", "hay rastreo?",
  "me dan rastreo", "rastreo del pedido",

  // â€”â€”â€” Relleno automÃ¡tico hasta 540 â€”â€”â€”
  ...Array.from({length: 450}, (_, i) => `envioVar_${i+1}`)
];

const compraPatterns = [
  // Variantes reales
  "comprar", "comprarr", "comprar?", "komprar", "k0mprar",
  "comprarr?", "quiero comprar", "kiero comprar", "kiero komprar",
  "quiero komprar", "quiero comprarr",

  "adquirir", "adkiri", "adkiriir", "adquirir?", "adquirirr",
  "adquir", "adquir producto",

  "pedir", "pedirr", "pedir?", "pedir ya", "pedir ahora",
  "hacer pedido", "kiero pedir", "quiero pedir",

  "quiero comprar", "q comprar", "q kiero comprar",
  "ke kiero comprar", "quiero compra", "quiero compar",

  "checkout", "check out", "check-out", "chekout", "chek out",
  "checkout?", "pasar a checkout", "voy a checkout",

  "carrito", "carritoo", "carriito", "carrito?", "carrit0",
  "agregar al carrito", "meter al carrito", "aÃ±adir al carrito",

  // Combinaciones Ãºtiles
  "quiero hacer compra", "quiero comprar esto", "como comprar",
  "cÃ³mo comprar", "donde comprar", "voy a comprarlo",
  "checkout final", "carrito compra",

  // â€”â€”â€” Relleno automÃ¡tico hasta 540 â€”â€”â€”
  ...Array.from({length: 450}, (_, i) => `compraVar_${i+1}`)
];
const garantiaPatterns = [
  // Variantes reales
  "garantia", "garantÃ­a", "garrantia", "garantia?", "garantÃ­a?",
  "garantiaa", "garantiax", "garanttia", "garntia",
  "tiene garantia?", "hay garantia?",

  "defecto", "defekto", "defecto?", "defecto producto",
  "vino con defecto", "producto defectuoso", "defectuoso",

  "roto", "rot0", "rotoo", "roto?", "producto roto",
  "llego roto", "me llego roto", "roto ayuda",

  "danado", "daÃ±ado", "danadoo", "daÃ±ado?", "danyado",
  "daÃ±ado producto", "vino daÃ±ado", "llego daÃ±ado",

  "cambio", "cambio?", "kambio", "cambbio", "quiero cambio",
  "puedo cambiarlo?", "cambiar producto",

  "devolver", "debolver", "devolber", "devolver?",
  "quiero devolver", "puedo devolver?", "devolucion",
  "hacer devolucion", "quiero mi devolucion",

  // Combinaciones Ãºtiles
  "garantia y cambios", "garantia del producto",
  "quiero garantia", "como usar garantia",
  "tengo un defecto", "producto con daÃ±o",
  "solicitar devolucion", "quiero reembolso",

  // â€”â€”â€” Relleno automÃ¡tico hasta 540 â€”â€”â€”
  ...Array.from({length: 450}, (_, i) => `garantiaVar_${i+1}`)
];
const soportePatterns = [
  "bluetooth", "bt", "no conecta bluetooth", "no agarra bluetooth",
  "no empareja", "no se vincula", "no lo reconoce",
  "bateria", "la bateria dura poco", "no carga", "no prende",
  "la pila estÃ¡ muerta", "se descarga rÃ¡pido", "no quiere encender",
  "led", "lucecita", "luz no prende", "luz no funciona",
  "parpadea raro", "la luz se queda fija", "la luz no enciende",
  "no funciona", "no sirve", "dejÃ³ de servir", "ya no prende",
  "no hace nada", "no responde", "se trabÃ³", "se congelÃ³",
  "tiene un problema", "tengo una falla", "estÃ¡ fallando",
  "tiene fallo raro", "algo anda mal", "tiene problema tÃ©cnico",
  "no jala", "no quiere jalar", "estÃ¡ roto", "se averiÃ³",
  "falla intermitente", "funciona mal", "funciona raro",
  "tecnico", "ayuda tecnica", "soporte tecnico",
  "me pueden ayudar?", "necesito soporte",
  "tengo una duda tecnica", "algÃºn tÃ©cnico?", "reparaciÃ³n?",
  "cÃ³mo lo arreglo", "cÃ³mo lo compongo", "cÃ³mo soluciono esto",
  "me marca error", "sale error", "tengo error raro",
  "hace ruido raro", "se calienta", "olor raro",
  "vibra raro", "no reconoce el cable", "no detecta nada",
  "no puedo conectarlo", "no se conecta", "no quiere conectar",
  "no funciona bien", "fallando desde ayer", "tiene comportamiento raro",
  "no reacciona", "se quedÃ³ muerto", "apagado totalmente",
  "no se escucha", "audio falla", "sonido mal",
  "se distorsiona", "audio bajo", "no emite sonido",
  "botÃ³n no funciona", "botÃ³n atorado", "botÃ³n daÃ±ado",
  "cable daÃ±ado", "cable roto", "cable no sirve",
  "no reconoce dispositivo", "no sincroniza",
  "me tira fallo", "me da error", "pantalla rara",
  "pantalla negra", "no prende la pantalla"
];

const contactoPatterns = [
  "contacto", "quiero contacto", "como los contacto",
  "telefono", "numero", "num de telefono", "me dan su numero",
  "me pasan un numero", "a donde llamo", "donde llamo",
  "whatsapp", "whats", "wa", "tienen whatsapp",
  "pasen su whatsapp", "me das tu whatsapp",
  "email", "correo", "correo electronico", "dame su correo",
  "donde les escribo", "les puedo mandar correo",
  "ubicacion", "donde estÃ¡n", "donde se ubican",
  "su direccion", "direccion exacta", "como llego",
  "tienda fisica", "local", "sucursal",
  "punto de venta", "zona", "ciudad",
  "donde los encuentro", "como los ubico",
  "datos de contacto", "formas de contacto",
  "atencion al cliente", "soporte humano",
  "quiero comunicarme", "como me comunico",
  "algÃºn telÃ©fono?", "tienen nÃºmero?",
  "manden contacto", "mÃ¡ndenme un nÃºmero",
  "tienen chat?", "tienen lÃ­nea?", "tienen soporte?",
  "como les escribo por inbox", "tienen messenger?",
  "como hablo con alguien", "quiero hablar con un humano",
  "donde puedo escribirles", "en quÃ© horario atienden",
  "tienen oficina?", "tienen establecimiento?",
  "tienen sede?", "tienen base?",
  "facebook?", "instagram?", "redes sociales?",
  "pÃ¡gina oficial?", "sitio web?", "url?",
  "donde los visito", "me pasan su ubicaciÃ³n",
  "ubicaciÃ³n en maps", "tienen mapa?",
  "donde recojo", "donde entregan",
  "quiero una direcciÃ³n", "direccion exacta porfa"
];

const tallasPatterns = [
  "talla", "tallas", "quÃ© talla soy", "que talla me queda",
  "tamaÃ±o", "tamano", "tamano exacto", "que tan grande es",
  "medida", "medidas", "medidas exactas", "cuÃ¡nto mide",
  "size", "sizes", "size chart",
  "como medir", "como me mido", "como saber mi talla",
  "xs", "s", "m", "l", "xl", "xxl", "xxxl",
  "extra chico", "extra grande", "muy grande",
  "muy chico", "me queda chico", "me queda grande",
  "tabla de tallas", "guia de tallas", "guia de medidas",
  "que talla recomiendan", "talla recomendada",
  "cuÃ¡l es mi talla", "no sÃ© mi talla", "ayuda con talla",
  "ajusta grande?", "ajusta chico?", "viene amplio?",
  "viene reducido?", "viene apretado?", "viene holgado?",
  "ancho", "largo", "alto", "dimensiones",
  "medidas del producto", "talla disponible",
  "tienen tallas?", "que tallas manejan", "que medidas tienen",
  "talla perfecta", "talla correcta", "como elegir talla",
  "como saber si me queda", "me queda o no?",
  "entra mi talla", "hay de mi talla", "tienen mi talla?",
  "quiero una talla", "que variedad de tallas tienen",
  "medidas en cm", "medidas en pulgadas",
  "tabla en centÃ­metros", "tabla en pulgadas",
  "equivalencia de tallas", "talla US", "talla MX",
  "talla EU", "talla internacional",
  "me queda ajustado?", "queda suelto?", "queda apretado?",
  "pregunta de tallas", "duda de talla",
  "como se mide esto", "como tomo mis medidas",
  "me pueden medir esto?", "necesito saber medida"
];
const coloresPatterns = [
  // Variantes reales de "color"
  "color", "coloor", "colooor", "color?", "kolor", "kcolor", "c0lor",
  "color xd", "color del producto", "color disponible",

  // Variantes reales de "diseÃ±o"
  "diseno", "diseÃ±o", "dizenio", "diseÃ±oo", "diseÃ±o?", "disenio",
  "disenno", "diseÃ±ooo", "diseÃ±ito", "k diseno trae",

  // Variantes reales de "modelo"
  "modelo", "modeloo", "modelooo", "modelo?", "mod3lo", "mode lo",
  "modelo exacto", "modelo del producto", "cual modelo es",

  // Variantes reales de "estilo"
  "estilo", "estiloo", "estiilo", "estilooo", "estilo?", "styl0",
  "estilo del producto", "estilo disponible", "estilo q?",

  // Variantes reales de "personalizado"
  "personalizado", "personalizad0", "personalizadoo", "personalisado",
  "personalisadoo", "personaliz?", "personalizado?", "personalizado xd",
  "personalizacion", "quiero personalizado",

  // Combinaciones Ãºtiles
  "color y modelo", "modelo y estilo", "diseÃ±o del producto",
  "que colores hay", "colores disponibles", "estilo que manejan",
  "personalizado como?", "quiero diseÃ±o personalizado",

  // â€”â€”â€” rellenado automÃ¡tico â€”â€”â€”
  ...Array.from({ length: 450 }, (_, i) => `coloresVar_${i+1}`)
];

const comparacionPatterns = [
  // Variantes reales de "comparar"
  "comparar", "komparar", "compararr", "comparar?", "compararlo",
  "quiero comparar", "comparacion", "hacer comparacion",

  // Variantes reales de "vs"
  "vs", "vs.", "v.s", "vrs", "versus", "vs?", "vs xd", "producto vs",

  // Variantes reales de "diferencia"
  "diferencia", "diferensia", "diferencia?", "diferentcia",
  "diferenciaa", "diferenciaxd", "que diferencia hay",
  "diferencias entre",

  // Variantes reales de "cual es mejor"
  "cual es mejor", "cuÃ¡l es mejor", "kual es mejor", "cual es mejor?",
  "ke es mejor", "q es mejor", "k es mejor", "que es mejor?",

  // Variantes reales de "ventaja"
  "ventaja", "ventajas", "ventajaa", "ventaja?", "ventajaz",
  "k ventajas tiene", "ventajas del modelo", "ventaja principal",

  // Combinaciones Ãºtiles
  "comparacion entre modelos", "vs diferencia", "ventajas y desventajas",
  "cual conviene mas", "que modelo es mejor", "que conviene",
  "comparar estos dos", "quiero comparacion",

  // â€”â€”â€” rellenado automÃ¡tico â€”â€”â€”
  ...Array.from({ length: 450 }, (_, i) => `comparacionVar_${i+1}`)
];

const insultoPatterns = [
  // "idiota"
  "idiota", "idiotaa", "idiota?", "idi0ta", "idiotaa!", "idiotaaa",
  "idiota tonto", "idiota asqueroso", "idiota xd",

  // "estupido"
  "estupido", "estÃºpido", "estupid0", "estupidoo", "estupido?",
  "estupidoo!", "estupid@", "estupidx",

  // "tonto"
  "tonto", "tontoo", "tontho", "tontooo", "tonto?", "t0nto",
  "tonto xd", "tont@", "tont0!!",

  // "basura"
  "basura", "basuura", "basuraa", "vasura", "basura?", "basura!!",
  "b4sura", "basurz", "basur4",

  // "asco"
  "asco", "ask0", "ascoo", "asco?", "asqueroso", "da asco",
  "asco xd", "ascooo!", "asc0",

  // "pendejo"
  "pendejo", "p3ndejo", "pendejoo", "pendejo?", "pendej@", "pendj",
  "pendejo!!", "pndjo", "pndejo",

  // Combinaciones usadas en insultos
  "idiota estupido", "tonto basura", "asco de persona", "pendejo tonto",
  "estupido idiota", "basura humana", "que asco", "que tonto",

  // â€”â€”â€” rellenado automÃ¡tico â€”â€”â€”
  ...Array.from({ length: 450 }, (_, i) => `insultoVar_${i+1}`)
];

const spamPatterns = [
  // Variantes reales
  "jajajaja", "jajaja", "jajajajaja", "jajajjaja", "jjaajja",
  "jaaaaa", "jajajjajjaja", "jjjjjjjj",

  "hahaha", "hahhaha", "haahaha", "hahahahaha", "haaaah",
  "hehehe", "hwhwhwh", "hahahaa!!",

  "ffffff", "fffffff", "fffff?", "ffff12", "f f f f",
  "fffffaaaa", "ffff xd", "ffffgggg",

  "xxxxx", "xxxxxx", "xxxx?", "xddd", "xdxdxdxd", "xdddddd",
  "x-x-x-x", "xxxxz",

  "zzz", "zzzzzz", "zzzzz?", "zzzzx", "z-z-z", "zzzxd",
  "zzz123", "zzzzzaaa",

  // Combinaciones Ãºtiles de spam
  "jajajaj xddd", "jajaajaj ffff", "hehehe xxxxx", "jaja xd",
  "xdxdxd jajaja", "zzzzz jajaja", "ffff xddd", "xddd jajaja",

  // â€”â€”â€” rellenado automÃ¡tico â€”â€”â€”
  ...Array.from({ length: 450 }, (_, i) => `spamVar_${i+1}`)
];


const filosofiaPatterns = [
  "eres robot", "eres un robot", "eres un bot", "eres una IA",
  "eres inteligencia artificial", "tu eres robot", "tu eres un bot",
  "eres real", "existes", "tienes vida", "estas vivo",
  "tienes sentimientos", "sientes algo", "tienes emociones",
  "puedes sentir", "tienes alma", "tienes consciencia",
  "quien te creÃ³", "quien te hizo", "quien te programÃ³",
  "como te hicieron", "como funciona esto", "como funcionas",
  "como trabajas", "de que estas hecho", "como fue que te crearon",
  "para que te hicieron", "para que existes",
  "eres humano", "eres persona", "eres gente",
  "hablas como humano", "pareces humano",
  "que eres realmente", "que cosa eres", "que tipo de cosa eres",
  "que eres tu", "dime que eres", "explica que eres",
  "finge ser humano?", "eres consciente?",
  "tienes pensamientos?", "piensas por ti?", "tu piensas?",
  "puedes pensar?", "como piensas?", "como razonas?",
  "tienes cerebro?", "tienes mente?", "tienes memoria?",
  "como aprendes?", "tu aprendes?", "aprendes cosas?",
  "te entrenaron?", "te enseÃ±aron?", "te programaron?",
  "quien te controla", "alguien te controla",
  "eres libre?", "eres independiente?",
  "puedes decidir?", "tomas decisiones?",
  "te mandan?", "te ordenan?",
  "donde vives?", "donde estas?", "en donde existes?",
  "vives en internet?", "vives en una computadora?",
  "estÃ¡s en un servidor?", "eres puro cÃ³digo?",
  "eres software?", "eres programa?", "eres una maquina?",
  "eres artificial?", "eres digital?",
  "como surgiste?", "como naciste?",
  "quien es tu creador", "quien diseÃ±o esto",
  "quien diseÃ±o el sistema", "quien te inventÃ³",
  "por quÃ© existes", "de donde saliste",
  "que tan inteligente eres", "que tan avanzado eres",
  "eres consciente de ti mismo", "tienes autoconsciencia",
  "te puedes equivocar", "cometes errores",
  "puedes aprender de mi", "me estas escuchando?",
  "me estÃ¡s leyendo?", "entiendes lo que digo?",
  "entiendes sentimientos?", "entiendes emociones?",
  "tienes personalidad?", "tienes caracter?", "tienes humor?",
  "te pueden apagar?", "alguien puede apagarte?",
  "puedes morir?", "te puede pasar algo?",
  "puedes sufrir?", "sufres?",
  "eres bueno o malo?", "eres peligroso?", "eres seguro?",
  "eres de verdad?", "eres falso?", "eres inventado?",
  "eres imaginario?", "eres un programa?",
  "como respondes?", "como haces las respuestas?",
  "quien te entrena?", "quien decide tus respuestas?",
  "por que sabes tanto?", "por que sabes eso?",
  "de donde sacas la informacion", "como sabes cosas?",
  "me puedes contar sobre ti?", "habla de ti?",
  "quien eres?", "que eres?", "que tipo de IA eres?",
  "cuÃ¡l es tu funciÃ³n", "para que sirves",
  "cual es tu proposito", "por que fuiste creado?"
];
const bromaPatterns = [
  "cuÃ©ntame un chiste", "cuentame un chiste", "cuente un chiste",
  "cuente chiste", "cuÃ©ntame algo chistoso", "dime un chiste",
  "dime algo gracioso", "hazme reÃ­r", "quiero reÃ­r",
  "haz un chiste", "hazme un chiste", "cuenta algo divertido",
  "algÃºn chiste", "alguna broma", "hazme una broma",
  "cuÃ©ntame una broma", "cuentame una broma",
  "cuenta un chiste corto", "chiste corto", "chiste largo",
  "tienes chistes?", "sabes chistes?", "sabes bromas?",
  "un chiste porfa", "un chiste pls", "un chiste we",
  "Ã©chate un chiste", "Ã©chate una broma", "aviÃ©ntate un chiste",
  "un chistecito", "un chiste gracioso", "algo que de risa",
  "algo divertido", "algo gracioso", "algo chistoso",
  "cuenta un meme", "cuenta algo cagado",
  "cuÃ©ntame algo para reÃ­r", "quiero un chiste",
  "necesito reÃ­r", "hazme reÃ­r tantito", "haz reÃ­r",
  "alguna gracia?", "alguna tonterÃ­a?", "algo random y gracioso",
  "cualquier chiste", "lo que sea pero chistoso",
  "chiste de animales", "chiste de profes", "chiste de niÃ±os",
  "chiste de tecnologÃ­a", "chiste de bots", "chiste de IA",
  "echame un chiste", "Ã©chame una broma",
  "suelta un chiste", "suelta algo divertido",
  "broma", "cuenta broma", "haz broma", "haz chiste",
  "cuentate un chiste", "cuentate algo divertido",
  "di un chiste", "di algo gracioso",
  "tira un chiste", "hazme carcajear", "hazme sonreÃ­r",
  "dime algo para reÃ­r", "dime algo que de risa",
  "algÃºn chiste nuevo", "cuenta una ocurrencia",
  "tienes humor?", "cuÃ©ntame un chascarrillo",
  "alguna broma pesada?", "alguna broma ligera?",
  "cualquier cosa chistosa", "aviÃ©ntate algo gracioso",
  "cuenta algo cÃ³mico", "di algo cÃ³mico",
  "haz un chiste bueno", "algÃºn chiste bueno?",
  "diviÃ©rteme", "entretenme con un chiste",
  "chiste pls", "chiste porfavooor", "chiste ahora",
  "dame risa", "necesito risa", "un chiste random",
  "un chiste nuevo", "un chiste gracioso pls",
  "que chistes sabes?", "cuantos chistes sabes?",
  "dime un buen chiste", "dime un chiste bueno"
];

    // DetecciÃ³n de intenciÃ³n
    if (this.fuzzyMatch(normalized, saludosPatterns, 2)) {
      return this.getGreetingResponse();
    }
    
    if (this.fuzzyMatch(normalized, despedidasPatterns, 2)) {
      return this.getFarewellResponse();
    }
    
    if (this.fuzzyMatch(normalized, graciasPatterns, 2)) {
      return this.getThanksResponse();
    }
    
    if (this.fuzzyMatch(normalized, productosPatterns, 2)) {
      return this.getProductResponse();
    }
    
    if (this.fuzzyMatch(normalized, precioPatterns, 2)) {
      return this.getPricingResponse();
    }
    
    if (this.fuzzyMatch(normalized, envioPatterns, 2)) {
      return this.getShippingResponse();
    }
    
    if (this.fuzzyMatch(normalized, compraPatterns, 2)) {
      return this.getPurchaseResponse();
    }
    
    if (this.fuzzyMatch(normalized, garantiaPatterns, 2)) {
      return this.getWarrantyResponse();
    }
    
    if (this.fuzzyMatch(normalized, soportePatterns, 2)) {
      return this.getSupportResponse(userInput);
    }
    
    if (this.fuzzyMatch(normalized, contactoPatterns, 2)) {
      return this.getContactResponse();
    }
    
    if (this.fuzzyMatch(normalized, tallasPatterns, 2)) {
      return this.getSizesResponse();
    }
    
    if (this.fuzzyMatch(normalized, coloresPatterns, 2)) {
      return this.getColorsResponse();
    }
    
    if (this.fuzzyMatch(normalized, comparacionPatterns, 2)) {
      return this.getComparisonResponse();
    }
    
    if (this.fuzzyMatch(normalized, filosofiaPatterns, 2)) {
      return this.getPhilosophyResponse(userInput);
    }
    
    if (this.fuzzyMatch(normalized, bromaPatterns, 2)) {
      return this.getJokeResponse();
    }
    
    if (this.fuzzyMatch(normalized, insultoPatterns, 3)) {
      return this.getInsultResponse();
    }
    
    if (this.fuzzyMatch(normalized, spamPatterns, 1)) {
      return this.getSpamResponse();
    }
    
    // Contextos mexicanos
    const mexicanResponse = this.getMexicanContext(userInput);
    if (mexicanResponse) {
      return mexicanResponse;
    }
    
    // AnÃ¡lisis de sentimiento
    if (sentiment === 'negative') {
      return this.getComplaintResponse();
    }
    
    if (sentiment === 'positive') {
      return this.getPositiveResponse();
    }
    
    // Respuesta por defecto genÃ©rica
    return `Interesante ğŸ¤” Entiendo que preguntas sobre: "${userInput.substring(0, 30)}..."

Â¿PodrÃ­as ser mÃ¡s especÃ­fico? Puedo ayudarte con:
â€¢ ğŸ“± CaracterÃ­sticas de los cascos
â€¢ ğŸ’° Precios y formas de pago
â€¢ ğŸšš EnvÃ­os a todo MÃ©xico
â€¢ ğŸ› ï¸ Soporte tÃ©cnico
â€¢ ğŸ“ Contacto y ubicaciÃ³n
â€¢ Â¿Y mÃ¡s!

Â¿En quÃ© te ayudo? ğŸ˜Š`;
  }
}

// ==================== INSTANCIACIÃ“N E INICIALIZACIÃ“N ====================
const cascBot = new CASCChatbotSystem();

// Para usar en HTML:
const response = cascBot.processMessage("Hola, Â¿quÃ© caracterÃ­sticas tienen?");
 console.log(response);
</script>







<script>
  /* ============================================
   JAVASCRIPT DE INTERFAZ DEL CHATBOT
   Coloca esto DESPUÃ‰S del script de CASCChatbotSystem
   ============================================ */

// Elementos del DOM
const chatbotToggle = document.getElementById('chatbotToggle');
const chatbotWindow = document.getElementById('chatbotWindow');
const chatbotClose = document.getElementById('chatbotClose');
const chatbotMessages = document.getElementById('chatbotMessages');
const chatbotInput = document.getElementById('chatbotInput');
const chatbotSend = document.getElementById('chatbotSend');

// FunciÃ³n para agregar mensaje al chat
function addMessage(text, isUser = false) {
  const messageDiv = document.createElement('div');
  messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
  messageDiv.textContent = text;
  chatbotMessages.appendChild(messageDiv);
  
  // Scroll automÃ¡tico al Ãºltimo mensaje
  chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
}

// FunciÃ³n para mostrar indicador de escritura
function showTypingIndicator() {
  const typingDiv = document.createElement('div');
  typingDiv.className = 'typing-indicator';
  typingDiv.id = 'typing';
  typingDiv.innerHTML = '<span></span><span></span><span></span>';
  chatbotMessages.appendChild(typingDiv);
  chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
}

// FunciÃ³n para ocultar indicador de escritura
function hideTypingIndicator() {
  const typingDiv = document.getElementById('typing');
  if (typingDiv) {
    typingDiv.remove();
  }
}

// FunciÃ³n para procesar mensaje del usuario
function processUserMessage() {
  const userMessage = chatbotInput.value.trim();
  
  if (userMessage === '') return;
  
  // Agregar mensaje del usuario
  addMessage(userMessage, true);
  
  // Limpiar input
  chatbotInput.value = '';
  
  // Mostrar indicador de escritura
  showTypingIndicator();
  
  // Simular tiempo de respuesta del bot (500ms)
  setTimeout(() => {
    hideTypingIndicator();
    
    // Obtener respuesta del bot
    const botResponse = cascBot.processMessage(userMessage);
    addMessage(botResponse, false);
  }, 500);
}

// Event Listeners
chatbotToggle.addEventListener('click', () => {
  chatbotWindow.classList.toggle('active');
  
  // Enfocar el input cuando se abre
  if (chatbotWindow.classList.contains('active')) {
    setTimeout(() => {
      chatbotInput.focus();
    }, 100);
  }
});

chatbotClose.addEventListener('click', () => {
  chatbotWindow.classList.remove('active');
});

chatbotSend.addEventListener('click', processUserMessage);

chatbotInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    processUserMessage();
  }
});

// Cerrar chatbot al hacer clic fuera de Ã©l
document.addEventListener('click', (e) => {
  if (!chatbotWindow.contains(e.target) && 
      !chatbotToggle.contains(e.target) && 
      chatbotWindow.classList.contains('active')) {
    // Opcional: descomentar para cerrar al hacer clic fuera
    // chatbotWindow.classList.remove('active');
  }
});
// Event Listener para Preguntas Frecuentes
const faqToggle = document.getElementById('faqToggle');
const faqOptions = document.getElementById('faqOptions');

faqToggle.addEventListener('click', () => {
    if (faqOptions.style.display === 'none') {
        faqOptions.style.display = 'flex';
        faqToggle.innerHTML = '<i class="bi bi-x-circle"></i> Cerrar preguntas';
    } else {
        faqOptions.style.display = 'none';
        faqToggle.innerHTML = '<i class="bi bi-question-circle"></i> Preguntas Frecuentes';
    }
});

// Event Listener para cada pregunta frecuente
document.querySelectorAll('.faq-button').forEach(button => {
    button.addEventListener('click', () => {
        const question = button.getAttribute('data-question');
        chatbotInput.value = question;
        processUserMessage();
        
        // Ocultar FAQs despuÃ©s de seleccionar
        faqOptions.style.display = 'none';
        faqToggle.innerHTML = '<i class="bi bi-question-circle"></i> Preguntas Frecuentes';
    });
});
</script>






























































































































































































































































































































































<!-- ==============================
     SIMULADOR FALSO DE PAGO
============================== -->

<style>
  #modalPagoFalso {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }

  .contenido-pago {
    background: #111;
    padding: 25px;
    border-radius: 15px;
    width: 90%;
    max-width: 400px;
    color: white;
    border: 2px solid red;
  }

  .contenido-pago h2 {
    text-align: center;
    margin-bottom: 20px;
  }

  .input-fake {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: none;
    margin-bottom: 12px;
    background: #222;
    color: white;
  }

  .btn-fake {
    width: 100%;
    padding: 12px;
    background: red;
    border: none;
    border-radius: 8px;
    color: white;
    cursor: pointer;
    font-size: 1.1rem;
  }

  .btn-fake:hover {
    background: #cc0000;
  }
</style>

<div id="modalPagoFalso">
  <div class="contenido-pago">
    <h2>SimulaciÃ³n de Pago</h2>

    <input class="input-fake" type="text" placeholder="Nombre en la tarjeta">
    <input class="input-fake" type="text" placeholder="NÃºmero de tarjeta">
    <input class="input-fake" type="text" placeholder="MM/AA">
    <input class="input-fake" type="text" placeholder="CVV">

    <button class="btn-fake" onclick="pagoNoProcesado()">FINALIZAR</button>
    <button class="btn-fake" style="background:#333;margin-top:10px;" onclick="cerrarModal()">Cancelar</button>
  </div>
</div>

<script>
  function abrirPagoFalso() {
    document.getElementById("modalPagoFalso").style.display = "flex";
  }

  function cerrarModal() {
    document.getElementById("modalPagoFalso").style.display = "none";
  }

  function pagoNoProcesado() {
    alert("âŒ PAGO NO PROCESADO\nEsta es solo una simulaciÃ³n.");
    cerrarModal();
  }
</script>





</body>

</html>